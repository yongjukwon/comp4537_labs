<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Login | Get Access Now!</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
  <style>
    .login-form {
      width: 340px;
      margin: 200px auto;
      font-size: 15px;
    }

    .login-form form {

      margin-bottom: 15px;
      background: #f7f7f7;
      box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
      padding: 30px;
    }

    .login-form h2 {
      margin: 0 0 15px;
    }

    .form-control,
    .btn {
      min-height: 38px;
      border-radius: 2px;
    }

    .btn {
      font-size: 15px;
      font-weight: bold;
    }

    a {
      color: white;
    }

    .dropdown {
      margin-right: 20px;
    }
  </style>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="./index.html">BCIT Nerds</a>
    <div class="container-fluid">
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
        <li class="nav-item">
          <a class="nav-link" href="./courses.html">Courses</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./professor.html">Professors</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./student.html">Students</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./admin.html">Admin</a>
        </li>
      </ul>
    </div>

    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false">
        Settings
      </a>
      <div class="dropdown-menu" aria-labelledby="navbarDropdown">
        <% if (!args.loggedIn) { %>
          <a id="logInLink" class="dropdown-item" href="./login.html">Log In</a>
          <a id="signUpLink" class="dropdown-item" href=<%=args.signUpRoute %>><%= args.signUp %></a>
          <% } else {%>
            <a id="signUpLink" class="dropdown-item" href="javascript:logOut()">
              <%= args.signUp %>
            </a>
            <% } %>
      </div>
    </li>
  </nav>
  <div class="alert alert-success" role="alert" id="loginAlert">
    <p style="text-align: center;">Incorrect Credential</p>
  </div>
  <div class="login-form">
    <form action="login.html" method="POST">
      <h2 class="text-center">Log in</h2>
      <div class="form-group">
        <input type="text" class="form-control" name="Username" placeholder="Username" required="required">
      </div>
      <div class="form-group">
        <input type="password" class="form-control" name="Password" placeholder="Password" required="required">
      </div>
      <p>
        <%= errors %>
      </p>

      <div class="form-group">
        <button type="submit" class="btn btn-primary btn-block">Log in</button>
      </div>

    </form>
    <p class="text-center"><a href="./register.html">Create an Account</a></p>
  </div>
</body>
<script>
  $('#loginAlert').hide();
  const urlParams = new URLSearchParams(window.location.search);
  const myParam = urlParams.get('error');
  if (myParam == "Incorrect_Credential") {
    $('#loginAlert').show();
  }
</script>

</html>